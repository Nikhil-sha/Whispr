<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Whispr</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
	<style>
		@keyframes subtle-pulse {
			
			0%,
			100% {
				opacity: 0.95;
			}
			
			50% {
				opacity: 1;
			}
		}
		
		.ai-gradient-bg {
			background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
		}
		
		.ai-card {
			background: rgba(255, 255, 255, 0.85);
			backdrop-filter: blur(8px);
			border: 1px solid rgba(255, 255, 255, 0.2);
			box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02), 0 2px 8px -2px rgba(0, 0, 0, 0.04);
		}
		
		.ai-btn {
			transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
		}
		
		.ai-btn:hover {
			transform: translateY(-1px);
		}
		
		.ai-pip {
			box-shadow: 0 2px 12px -4px rgba(0, 0, 0, 0.08);
			border: 1.5px solid rgba(255, 255, 255, 0.3);
		}
	</style>
</head>

<body class="flex flex-col min-h-dvh ai-gradient-bg">
	<!-- Toast Container -->
	<div id="toastContainer" class="fixed top-4 right-4 space-y-2 z-50"></div>
	
	<!-- Toast Animation -->
	<style>
		@keyframes fadeInOut {
			0% {
				opacity: 0;
				transform: translateY(-10px);
			}
			
			10%,
			90% {
				opacity: 1;
				transform: translateY(0);
			}
			
			100% {
				opacity: 0;
				transform: translateY(-10px);
			}
		}
		
		.animate-fadeInOut {
			animation: fadeInOut 3s ease forwards;
		}
	</style>
	
	<!-- Header -->
	<header class="ai-card px-4 py-3 mx-3 mt-3 rounded-2xl flex justify-between items-center gap-4">
		<div class="flex-shrink-0 flex items-center space-x-2">
			<div class="w-6 h-6 rounded-lg bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center">
				<i class="ri-ai-generate text-xs text-white"></i>
			</div>
			<h1 class="text-base font-medium text-gray-800">Whispr</h1>
		</div>
		<span id="my-id" class="truncate text-xs text-gray-600"></span>
	</header>
	
	<!-- Main Content -->
	<main class="grow h-0 p-3 flex justify-center items-center">
		<div class="relative h-full max-w-md aspect-[9/16] rounded-2xl overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200">
			<video id="remoteVideo" autoplay playsinline class="absolute inset-0 w-full h-full object-cover bg-gray-300"></video>
			
			<div class="absolute bottom-4 right-4 w-1/4 aspect-[9/16] rounded-2xl overflow-hidden ai-pip">
				<video id="localVideo" autoplay playsinline muted class="w-full h-full object-cover"></video>
			</div>
		</div>
	</main>
	
	<!-- Controls -->
	<footer class="ai-card px-4 py-3 mx-3 mb-3 rounded-2xl">
		<div class="flex justify-center space-x-4">
			<button onclick="toggleMute()" class="ai-btn w-10 h-10 rounded-2xl bg-gradient-to-br from-cyan-400 to-cyan-500 flex items-center justify-center text-white hover:from-cyan-500 hover:to-cyan-600">
				<i id="micIcon" class="ri-mic-line"></i>
			</button>
			<button onclick="toggleVideo()" class="ai-btn w-10 h-10 rounded-2xl bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center text-white hover:from-blue-500 hover:to-blue-600">
				<i id="videoIcon" class="ri-camera-line"></i>
			</button>
			<button onclick="callPeer()" class="ai-btn w-10 h-10 rounded-2xl bg-gradient-to-br from-green-400 to-green-500 flex items-center justify-center text-white hover:from-green-500 hover:to-green-600">
				<i class="ri-user-add-line"></i>
			</button>
			<button onclick="endCall()" class="ai-btn w-10 h-10 rounded-2xl bg-gradient-to-br from-red-400 to-red-500 flex items-center justify-center text-white hover:from-red-500 hover:to-red-600">
				<i class="ri-user-unfollow-line"></i>
			</button>
			<button onclick="shareLink()" class="ai-btn w-10 h-10 rounded-2xl bg-gradient-to-br from-yellow-400 to-yellow-500 flex items-center justify-center text-white hover:from-yellow-500 hover:to-yellow-600">
				<i class="ri-share-line"></i>
			</button>
		</div>
	</footer>
	
	<script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
	<script src="./script.js"></script>
</body>

</html>